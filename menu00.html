<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>시기별 주요 조사내용</title>

    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f4;
            padding: 20px;
            margin: 0;
        }

        h1 {
            color: #333;
            cursor: pointer;
            font-size: 1.5em;
        }

        form {
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        label {
            display: inline-block;
            margin-bottom: 10px;
            font-weight: bold;
            font-size: 1.2em;
        }

        input[type="text"] {
            width: calc(100% - 22px);
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
            margin-bottom: 20px;
            box-sizing: border-box;
        }

        button {
            padding: 10px 20px;
            background-color: #003768;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            width: 70px;
            box-sizing: border-box;
        }

        button:hover {
            background-color: #0056b3;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: #fff;
            border-radius: 5px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            table-layout: auto;
        }

        th, td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #003768;
            color: #fff;
        }

        .filterCheckbox {
            transform: scale(1.2);
            margin-right: 10px;
        }

        #months {
            margin-bottom: 20px;
            display: flex;
            flex-wrap: wrap;
        }

        label.month {
            margin-right: 10px;
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 1.2em;
            }

            label {
                font-size: 0.9em;
            }

            button {
                padding: 10px;
                font-size: 1em;
            }

            th, td {
                font-size: 0.8em;
                padding: 5px;
            }

            .filterCheckbox {
                transform: scale(1);
            }
        }
	/*열 제목*/
	th:nth-child(1) {
	    text-align: center; /* 가운데 정렬 */
	    width: 40px; /* 너비 */
	/*    font-size: 1.1em; /* 글자 크기 */
	/*    color: #FF5733; /* 색상 */
	}

	th:nth-child(2) {
	    text-align: center; /* 가운데 정렬 */
	    width: 50px; /* 너비 */
	/*    font-size: 1.2em; /* 글자 크기 */
	/*    color: #33FF57; /* 색상 */
	}
	
	th:nth-child(3) {
	    text-align: center; /* 가운데 정렬 */
	    width: 100px; /* 너비 */
	/*    font-size: 1.2em; /* 글자 크기 */
	/*    color: #33FF57; /* 색상 */
	}
	
	th:nth-child(4) {
	    text-align: center; /* 오른쪽 정렬 */
	    width: 500px; /* 너비 */
	/*    font-size: 1.3em; /* 글자 크기 */
	/*    color: #5733FF; /* 색상 */
	}
	th:nth-child(5) {
	    text-align: center; /* 오른쪽 정렬 */
	    width: 500px; /* 너비 */
	/*    font-size: 1.3em; /* 글자 크기 */
	/*    color: #5733FF; /* 색상 */
	}
	th:nth-child(6) {
	    text-align: center; /* 오른쪽 정렬 */
	/*    width: 150px; /* 너비 */
	/*    font-size: 1.3em; /* 글자 크기 */
	/*    color: #5733FF; /* 색상 */
	}

	/*열 데이터*/
	td:nth-child(1) {
	    text-align: center; /* 가운데 정렬 */
	    width: 40px; /* 너비 */
	/*    font-size: 1.1em; /* 글자 크기 */
	/*    color: #FF5733; /* 색상 */
	}
	td:nth-child(2) {
	    text-align: center; /* 가운데 정렬 */
	    width: 50px; /* 너비 */
	/*    font-size: 1.2em; /* 글자 크기 */
	/*    color: #33FF57; /* 색상 */
	}
	
	td:nth-child(3) {
	    text-align: center; /* 오른쪽 정렬 */
	    width: 100px; /* 너비 */
	/*    font-size: 1.3em; /* 글자 크기 */
	/*    color: #5733FF; /* 색상 */
	}
	td:nth-child(4) {
	    text-align: center; /* 오른쪽 정렬 */
	/*    font-size: 1.3em; /* 글자 크기 */
	/*    color: #5733FF; /* 색상 */
	}
	td:nth-child(5) {
	    text-align: center; /* 오른쪽 정렬 */
	/*    font-size: 1.3em; /* 글자 크기 */
	/*    color: #5733FF; /* 색상 */
	}
	td:nth-child(6) {
	    text-align: center; /* 오른쪽 정렬 */
	/*    font-size: 1.3em; /* 글자 크기 */
	/*    color: #5733FF; /* 색상 */
	}

    </style>
</head>
<body>
<h1 onclick="window.location.reload();">시기별 주요 체크포인트</h1>

<form id="searchForm">
                <div id="checkboxes">
                    <label for="checkboxes">카테고리</label>
                    <label><input type="checkbox" class="filterCheckbox" value="all">전체</label>
                    <label><input type="checkbox" class="filterCheckbox" value="농가경제조사">농가경제</label>
                    <label><input type="checkbox" class="filterCheckbox" value="농산물생산비조사">농산물생산비</label>
                    <label><input type="checkbox" class="filterCheckbox" value="축산물생산비조사">축산물생산비</label>
                </div>
                <div id="months">
                    <label for="months">시기</label><br>
                    <label for="allMonths" class="month"><input type="checkbox" id="allMonths" value="all">전체</label>
                    <label for="공통" class="month"><input type="checkbox" id="공통" value="공통">공통</label>
                    <label for="1분기" class="month"><input type="checkbox" id="1분기" value="1분기">1분기</label>
                    <label for="01월" class="month"><input type="checkbox" id="01월" value="01월">01월</label>
                    <label for="02월" class="month"><input type="checkbox" id="02월" value="02월">02월</label>
                    <label for="03월" class="month"><input type="checkbox" id="03월" value="03월">03월</label><br>
                    <label for="2분기" class="month"><input type="checkbox" id="2분기" value="2분기">2분기</label>
                    <label for="04월" class="month"><input type="checkbox" id="04월" value="04월">04월</label>
                    <label for="05월" class="month"><input type="checkbox" id="05월" value="05월">05월</label>
                    <label for="06월" class="month"><input type="checkbox" id="06월" value="06월">06월</label><br>
                    <label for="3분기" class="month"><input type="checkbox" id="3분기" value="3분기">3분기</label>
                    <label for="07월" class="month"><input type="checkbox" id="07월" value="07월">07월</label>
                    <label for="08월" class="month"><input type="checkbox" id="08월" value="08월">08월</label>
                    <label for="09월" class="month"><input type="checkbox" id="09월" value="09월">09월</label><br>
                    <label for="4분기" class="month"><input type="checkbox" id="4분기" value="4분기">4분기</label>
                    <label for="10월" class="month"><input type="checkbox" id="10월" value="10월">10월</label>
                    <label for="11월" class="month"><input type="checkbox" id="11월" value="11월">11월</label>
                    <label for="12월" class="month"><input type="checkbox" id="12월" value="12월">12월</label><br>
                    <label for="연간" class="month"><input type="checkbox" id="연간" value="연간">연간</label>
                </div>

    <label for="searchTerm">키워드</label>
    <input type="text" id="searchTerm" name="searchTerm" placeholder="키워드를 입력하세요">
    <button type="submit">검색</button>
    <button onclick="window.print()">출력</button>

</form>

<div id="tables"></div>

<script>
    const data = {
        '농가경제조사': [
            ['01월', '메 벼 (조곡) 논에 심은 메벼(일반, 통일)', '메벼(일반, 통일)', '쌀 생산'],
            ['02월', '메 벼 (조곡)  심은 메벼(일반, 통일)', '메벼(일반, 통일)', '쌀 생산'],
            ['03월', '메벼 (조곡) 논에 심은 메벼(일반, 통일)', '메벼(일반, 통일)', '쌀 생산'],
            ['04월', '메벼 (조곡) 논에 심은 메벼(일반, 통일)', '메벼(일반, 통일)', '쌀 생산'],
            ['05월', '메벼 (조곡) 논에 심은 메벼(일반, 통일)', '메벼(일반, 통일)', '쌀 생산'],
            ['06월', '메벼 (조곡) 논에 심은 메벼(일반, 통일)', '메벼(일반, 통일)', '쌀 생산'],
            ['07월', '메벼 (조곡) 논에 심은 메벼(일반, 통일)', '메벼(일반, 통일)', '쌀 생산'],
            ['08월', '메벼 (조곡) 논에 심은 메벼(일반, 통일)', '메벼(일반, 통일)', '쌀 생산'],
            ['09월', '메벼 (조곡) 논에 심은 메벼(일반, 통일)', '메벼(일반, 통일)', '쌀 생산'],
            ['10월', '메벼 (조곡) 논에 심은 메벼(일반, 통일)', '메벼(일반, 통일)', '쌀 생산'],
            ['11월', '메벼 (조곡) 논에 심은 메벼(일반, 통일)', '메벼(일반, 통일)', '쌀 생산'],
            ['12월', '메벼 (조곡) 논에 심은 메벼(일반, 통일)', '메벼(일반, 통일)', '쌀 생산']
        ],
        '농산물생산비조사': [
            ['01월', '가격보상금(보험)', '송아지생산안정보험, 농업재해보험 등 농가에서 농업 재해관련 가입한 보험에서 받은 보상금', '농가 보험 가입 후 재해 발생 시 받은 보상금'],
            ['1월', '가노논논금(보험)', '송아지생산안정보험, 농업재해보험 등 농가에서 농업 재해관련 가입한 보험에서 받은 보상금', '농가 보험 가입 후 재해 발생 시 받은 보상금'],
            ['1월', '변동직불금', '구 논농업 변동직불금(현재 폐지)', '변동직불금에 대한 정보'],
            ['1월', '폐농자재판매대금', '사용한 농약병 판매대금', '유기농업을 위해 구입했던 오리, 꿀벌 등 농업용 자재 판매'],
            ['1월', '기타', '농업비용 과다지급에 따른 환불금 등', '기타 농업에 관련된 수입']
        ],
        '축산물생산비조사': [],
    };

// 검색 이벤트 핸들러
document.getElementById("searchForm").addEventListener("submit", function(event) {
    event.preventDefault();
    const searchTerm = document.getElementById("searchTerm").value.toLowerCase();
    const selectedFilters = Array.from(document.querySelectorAll('.filterCheckbox:checked')).map(checkbox => checkbox.value);
    const selectedMonths = Array.from(document.querySelectorAll('.month input[type="checkbox"]:checked')).map(checkbox => checkbox.value);
    let hasResult = false;

    const tablesDiv = document.getElementById("tables");
    tablesDiv.innerHTML = '';

    selectedFilters.forEach(category => {
        if (data.hasOwnProperty(category)) {
            const matchedData = data[category].filter(item => 
                (searchTerm === '' || item.join().toLowerCase().includes(searchTerm)) && 
                (selectedMonths.includes('all') || selectedMonths.includes(item[0].toLowerCase()))
            );

            if (matchedData.length > 0) {
                hasResult = true;

                const table = document.createElement('table');
                table.id = `${category}Table`;
                table.innerHTML = `<thead>
                    <tr>
                        <th>번호</th>
                        <th>월</th>
                        <th>구분</th>
                        <th>체크포인트</th>
                        <th>관련 내용</th>
                        <th>비고</th>
                    </tr>
                </thead>
                <tbody id="resultBody_${category}"></tbody>`;

                const h2 = document.createElement('h2');
                h2.textContent = category;
                tablesDiv.appendChild(h2);
                tablesDiv.appendChild(table);

                const resultBody = document.getElementById(`resultBody_${category}`);

                matchedData.forEach((item, index) => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${index + 1}</td>
                        <td>${item[0]}</td>
                        <td>${item[1]}</td>
                        <td>${item[2]}</td>
                        <td>${item[3]}</td>
                        <td>${item[4]}</td>
                    `;
                    resultBody.appendChild(row);
                });
            }
        }
    });

    if (!hasResult) {
        alert('검색 결과가 없습니다.');
    }
});

// 카테고리 체크박스 전체 선택 기능
document.querySelector('.filterCheckbox[value="all"]').addEventListener('change', function() {
    const isChecked = this.checked;
    document.querySelectorAll('.filterCheckbox').forEach(checkbox => {
        if (checkbox.value !== "all") {
            checkbox.checked = isChecked;
        }
    });
});


// 월 선택 체크박스 전체 선택 기능
document.querySelector('#allMonths').addEventListener('change', function() {
    const isChecked = this.checked;
    document.querySelectorAll('.month input[type="checkbox"]').forEach(checkbox => {
        checkbox.checked = isChecked;
    });
});
// 월 선택 체크박스 전체 선택 기능
document.querySelectorAll('.month input[type="checkbox"]').forEach(checkbox => {
    checkbox.addEventListener('change', function() {
        const isChecked = this.checked;
        const quarterMap = {
            '1분기': ['01월', '02월', '03월'],
            '2분기': ['04월', '05월', '06월'],
            '3분기': ['07월', '08월', '09월'],
            '4분기': ['10월', '11월', '12월']
        };

        if (quarterMap.hasOwnProperty(this.value)) {
            quarterMap[this.value].forEach(month => {
                document.getElementById(month).checked = isChecked;
            });
        }

        // 전체 월 선택을 확인하여 1분기, 2분기, 3분기, 4분기 체크박스 상태 업데이트
        const allMonthsChecked = Array.from(document.querySelectorAll('.month input[type="checkbox"]')).every(checkbox => checkbox.checked);
        document.getElementById('allMonths').checked = allMonthsChecked;
    });
});

// 월 선택 체크박스 전체 선택 기능
document.querySelector('#allMonths').addEventListener('change', function() {
    const isChecked = this.checked;
    document.querySelectorAll('.month input[type="checkbox"]').forEach(checkbox => {
        checkbox.checked = isChecked;
    });
});

// 초기화 이벤트 핸들러
document.querySelector('h1').addEventListener('click', function() {
    document.getElementById("searchTerm").value = '';
    document.getElementById("tables").innerHTML = '';
    document.querySelectorAll('.filterCheckbox').forEach(checkbox => {
        checkbox.checked = false;
    });
    document.querySelectorAll('.month input[type="checkbox"]').forEach(checkbox => {
        checkbox.checked = false;
    });
});
</script>
</body>
</html>