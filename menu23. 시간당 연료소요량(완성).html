<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>연료소모량 계산</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 400px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h2 {
            margin-bottom: 20px;
            text-align: center;
            color: #333;
        }
        label {
            font-weight: bold;
        }
        select, input[type="number"] {
            width: 89%;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 15px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #45a049;
        }
        #result {
            margin-top: 20px;
            padding: 20px;
            border-radius: 4px;
            background-color: #f0f0f0;
        }
        #result p {
            margin: 0;
        }
h2:hover {
    cursor: pointer;
}

    </style>
</head>
<body>
    <div class="container">
        <h2>연료소모량 계산(참고용)</h2>
        <p>어디까지나 참고용으로, 실제 사용량 질의 바랍니다.<br>(참고: 농업용 면세유류 공급요령)</p>
        <form id="fuelForm">
            <!-- 연료 종류 선택 -->
            <label for="fuelType">유종:</label>
            <select id="fuelType" name="fuelType" onchange="selectFuelType()">
                <option value="" selected disabled>선택</option>
                <option value="gasoline">휘발유</option>
                <option value="diesel">경유</option>
                <option value="kerosene">등유</option>
            </select>
            <br><br>
            <!-- 농기계 규격 선택 -->
            <div id="ccSection" style="display:none;">
                <label for="cc">규격:</label>
                <select id="cc" name="cc" onchange="selectCC()">
                    <option value="" selected disabled>선택</option>
                    <option value="under_50">50cc 미만</option>
                    <option value="50_to_160">50cc - 160cc</option>
                    <option value="direct_input">마력(직접입력)</option>
                </select>
                <br><br>
                <!-- 마력 입력 -->
                <div id="horsepowerInputSection" style="display:none;">
                    <label for="horsepowerInput">마력:</label>
                    <input type="number" id="horsepowerInput" name="horsepowerInput" placeholder="마력을 입력하세요">
                    <br><br>
                </div>
            </div>
            <!-- 계산 버튼 -->
            <button type="button" onclick="calculateFuelConsumption()">계산하기</button>
        </form>
        <!-- 결과 표시 -->
        <div id="result"></div>
    </div>

    <script>
// 초기화 함수
function resetForm() {
    document.getElementById('fuelForm').reset(); // 폼 초기화
    document.getElementById('ccSection').style.display = 'block'; // 농기계 규격 보이기
    document.getElementById('horsepowerInputSection').style.display = 'none'; // 마력 입력 숨기기
    document.getElementById('result').innerText = ''; // 결과 초기화
}
// 제목 클릭 시 초기화 함수 호출
document.querySelector('h2').addEventListener('click', resetForm);

        // 입력창에서 엔터 키 누를 때 계산 버튼 클릭
        document.addEventListener('DOMContentLoaded', function() {
            const inputs = document.querySelectorAll('input, select');
            inputs.forEach(input => {
                input.addEventListener('keypress', function(event) {
                    if (event.key === 'Enter') {
                        event.preventDefault();
                        calculateFuelConsumption();
                    }
                });
            });
        });

// 연료 종류 선택 시 실행되는 함수
function selectFuelType() {
    const fuelType = document.getElementById('fuelType').value;
    const ccSection = document.getElementById('ccSection');
    const ccSelect = document.getElementById('cc');
    const horsepowerInputSection = document.getElementById('horsepowerInputSection');

    if (fuelType === 'gasoline') {
        ccSection.style.display = 'block';
        ccSelect.innerHTML = '<option value="" selected disabled>선택</option><option value="under_50">50cc 미만</option><option value="50_to_160">50cc - 160cc</option><option value="direct_input">마력(직접입력)</option>';
        ccSelect.onchange(); // cc 선택 변경 이벤트 트리거하여 마력 입력 보이기/숨기기
    } else {
        ccSection.style.display = 'block';
        ccSelect.innerHTML = '<option value="" selected disabled>선택</option><option value="direct_input">마력(직접입력)</option>';
        horsepowerInputSection.style.display = 'none';
    }
}

function resetForm() {
    const fuelType = document.getElementById('fuelType').value;
    const ccSection = document.getElementById('ccSection');
    const ccSelect = document.getElementById('cc');
    const horsepowerInputSection = document.getElementById('horsepowerInputSection');

    // 연료 종류에 따라 규격 선택 부분 보이기/숨기기
    if (fuelType === 'gasoline') {
        ccSection.style.display = 'block';
        ccSelect.innerHTML = '<option value="" selected disabled>선택</option><option value="under_50">50cc 미만</option><option value="50_to_160">50cc - 160cc</option><option value="direct_input">마력(직접입력)</option>';
        ccSelect.onchange(); // cc 선택 변경 이벤트 트리거하여 마력 입력 보이기/숨기기
    } else {
        ccSection.style.display = 'none';
        horsepowerInputSection.style.display = 'block';
    }

    // 나머지 입력값 초기화
    document.getElementById('fuelForm').reset(); // 폼 초기화
    document.getElementById('result').innerText = ''; // 결과 초기화
}


        // 농기계 규격 선택 시 실행되는 함수
        function selectCC() {
            const cc = document.getElementById('cc').value;
            const horsepowerInputSection = document.getElementById('horsepowerInputSection');

            if (cc === 'direct_input') {
                horsepowerInputSection.style.display = 'block';
            } else {
                horsepowerInputSection.style.display = 'none';
            }
        }

        // 연료소모량 계산 함수
        function calculateFuelConsumption() {
            const fuelType = document.getElementById('fuelType').value;
            let fuelConsumption = 0;

            if (fuelType === 'gasoline') {
                const cc = document.getElementById('cc').value;
                const horsepowerInput = document.getElementById('horsepowerInput').value;

                if (cc === 'under_50')
                    fuelConsumption = 0.9;
                else if (cc === '50_to_160')
                    fuelConsumption = 1.5;
                else {
                    const horsepowerInput = parseFloat(document.getElementById('horsepowerInput').value);
                    if (horsepowerInput >= 2 && horsepowerInput <= 10) {
                        const baseConsumptions = [0.8, 1.2, 1.6, 2.0, 2.0, 2.4, 2.8, 3.2, 3.5];
                        fuelConsumption = baseConsumptions[Math.floor(horsepowerInput) - 2] || 3.5;
                    } else if (horsepowerInput > 10 && horsepowerInput <= 300) {
                        fuelConsumption = 3.5 + (horsepowerInput - 10) * 0.3;
                    } else {
                        alert('마력은 2에서 300 사이여야 합니다.');
                        return;
                    }
                }
            } else if (fuelType === 'diesel') {
                const horsepower = parseFloat(document.getElementById('horsepowerInput').value);
                if (horsepower >= 5 && horsepower <= 300) {
                    fuelConsumption = 1.0 + (horsepower - 5) * 0.2;
                } else {
                    alert('경유의 마력은 5에서 300 사이여야 합니다.');
                    return;
                }
            } else if (fuelType === 'kerosene') {
                const horsepower = parseFloat(document.getElementById('horsepowerInput').value);
                if (horsepower >= 2 && horsepower <= 10) {
                    const baseConsumptions = [0.8, 1.2, 1.6, 2.0, 2.0, 2.4, 2.8, 3.2, 3.5];
                    fuelConsumption = baseConsumptions[Math.floor(horsepower) - 2] || 3.5;
                } else if (horsepower > 10) {
                    alert('등유의 마력은 2에서 10 사이여야 합니다.');
                    return;
                }
            }

            // 결과 표시
            document.getElementById('result').innerText = `시간당 연료소모량: ${fuelConsumption.toFixed(2)} L/h`;
        }

    </script>
</body>
</html>
